<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>This</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/hexo-blog/./css/style.css"><link rel="shortcut icon" href="/hexo-blog/./favicon.ico"><link rel="apple-touch-icon" href="/hexo-blog/./apple-touch-icon.png"><link rel="stylesheet" href="/hexo-blog/./css/atom-one-dark.css"><meta name="generator" content="Hexo 4.2.0"></head><body><header class="al_header al_pos_fixed"><div class="al_header_container dis_flex_jcenter"><div class="al_header_container_left"><div class="al_header_site_title"><a href="/">Blog</a></div></div><div class="dis_flex_jcenter"><div class="al_header_setting"><svg class="al_header_icon"><use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-menu"></use></svg></div></div></div></header><div class="al_sidebar"><div class="al_sidebar_overlay al_full_cover"></div><div class="al_pos_fixed al_sidebar_cnt"><div class="dis_flex_acenter al_sidebar_header"><h3>Blog</h3><div class="al_sidebar_close al_header_setting"><svg class="al_header_icon"><use xmlns="http://www.w3.org/2000/svg" xlink:href="/assets/svg_icons.svg#svg-close"></use></svg></div></div><div class="al_sidebar_author_cnt"><div class="al_sidebar_author_info"><h4>zhangjingjie</h4><img class="al_sidebar_avatar" src="https://yourAvatorURL"><p></p></div></div></div></div><div class="al_page_background dis_flex_center al_full_cover"></div><div class="al_page_container"><div class="al_pos_ab al_fake_background"></div><div class="al_main_container al_main_page_container"><article class="al_article"><header><h1 class="al_page_title">This</h1><div class="al_page_info dis_flex"><div class="al_page_content_info">Mar 24, 2020 1:04 AM</div><div class="al_page_content_info">313 words</div><div class="al_page_content_info">1 minutes read</div><span class="tags"></span></div></header><section id="post-body"><p><strong>this</strong> 关键字是 JavaScript 中最复杂的机制之一 ,在理解 <strong>this</strong> 之前先理解一段这个代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 1</span><br><span class="line">function foo ()&#123;</span><br><span class="line">	var a &#x3D; 2;</span><br><span class="line">    bar();</span><br><span class="line">&#125;;</span><br><span class="line">function bar()&#123;</span><br><span class="line">	console.log(a);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>
<p>答案是 1. 为什么呢？ 因为词法作用域的关系也可以理解成为静态作用域。<br>事实上很多语言都是基于词法作用域的,但是Javascript并不是完全的静态作用域 <strong>This</strong>就是为了实现动态作用域的一个重要机制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function foo()&#123;return this.name&#125;</span><br><span class="line">var name &#x3D; &#39;foo&#39;;</span><br><span class="line">var obj &#x3D; &#123; name:&#39;baz&#39;,foo&#125;</span><br><span class="line">foo();</span><br><span class="line">obj.foo();</span><br></pre></td></tr></table></figure>
<p>得到结果是 foo 和 baz 通过使用 <strong>this</strong> 来更优雅的方式来隐式传递一个对象的引用, 很容易把this理解成为函数的自身。从翻译的角度来这个没并有错，但这并不是正确的理解。 </p>
<p>前面说过<strong>this是实现动态作用域的一个重要机制</strong>，所以this是在<strong>运行时</strong>进行绑定的,而不是在编写时绑定的。它的上下文取决于函数调用的各种条件。this的绑定和声明函数的位置没有关系，它取决于函数在哪里被调用。</p>
</section></article><nav class="dis_flex post-nav"><span class="prev"></span><span class="next"><a href="/hexo-blog/2020/03/21/%E5%BF%85%E5%8C%85/">Older Posts<span class="arrow">→</span></a></span></nav></div></div><script type="text/javascript" src="/hexo-blog/javascripts/highlight.pack.js"></script><script>document.querySelectorAll('figure.highlight').forEach(function(b){hljs.highlightBlock(b);});</script><div class="al_index_footer dis_flex dis_flex_center"><div class="al_index_footer_item al_index_footer_title">zhangjingjie</div><div class="al_index_footer_item al_index_footer_extra">Create By <a href="https://github.com/iGuan7u/Acetolog" target="_blank" rel="noopener">AcetoLog </a>· Power By <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a></div><div class="al_index_footer_item al_index_footer_extra_right">All Right Reserved</div></div><script type="text/javascript" async="async" src="/hexo-blog/javascripts/acelog.js"></script><script src="/hexo-blog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>